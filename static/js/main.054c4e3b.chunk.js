(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),o=a(4),i=a.n(o),r=(a(12),a(2)),l=a.p+"static/media/logo.a307e1c4.svg";var p=function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("img",{className:"logo ",src:l,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u041c\u0435\u0441\u0442\u043e"})})},u=a.p+"static/media/loading-foto.aaefe4f1.png",d=a(5),h=a(6),_=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(d.a)(this,e),this._baseUrl=a,this._headers=n}return Object(h.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject(e.statusText)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._handleResponse).catch((function(e){console.log(e)}))}},{key:"updateUser",value:function(e){var t=e.name,a=e.info;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:a})}).then(this._handleResponse).catch((function(e){console.log(e)}))}},{key:"updateAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleResponse).catch((function(e){console.log(e)}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._handleResponse).catch((function(e){console.log(e)}))}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._handleResponse).catch((function(e){console.log(e)}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse).catch((function(e){console.log(e)}))}},{key:"likeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleResponse).catch((function(e){console.log(e)}))}},{key:"deletLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse).catch((function(e){console.log(e)}))}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-19",headers:{authorization:"931abef9-5903-4d83-895a-778706a224b0","Content-Type":"application/json"}});var j=function(e){var t=e.card,a=(e.currentUser,e.onCardClick);return Object(n.jsxs)("article",{className:"element",children:[Object(n.jsx)("button",{type:"button",className:"element__button-delete"}),Object(n.jsx)("div",{className:"element__wrapper",children:Object(n.jsx)("img",{className:"element__image",alt:t.name,src:t.link,onClick:function(){a(t)}})}),Object(n.jsxs)("div",{className:"element__panel",children:[Object(n.jsx)("h2",{className:"element__title",children:t.name}),Object(n.jsxs)("div",{className:"element__like-wrapper",children:[Object(n.jsx)("button",{type:"button",className:"element__button-like"}),Object(n.jsx)("p",{className:"element__like-counter",children:t.likes.length})]})]})]})};var m=function(e){var t=e.onEditProfile,a=e.onEditAvatar,s=e.onAddPlace,o=e.onCardClick,i=c.a.useState(""),l=Object(r.a)(i,2),p=l[0],d=l[1],h=c.a.useState(""),m=Object(r.a)(h,2),b=m[0],f=m[1],O=c.a.useState(""),x=Object(r.a)(O,2),v=x[0],N=x[1],g=c.a.useState(u),k=Object(r.a)(g,2),y=k[0],C=k[1],U=c.a.useState([]),S=Object(r.a)(U,2),L=S[0],E=S[1];return c.a.useEffect((function(){Promise.all([_.getUserInfo(),_.getInitialCards()]).then((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];d(a._id),f(a.name),N(a.about),C(a.avatar),E(n)}))}),[]),Object(n.jsxs)("main",{className:"content",children:[Object(n.jsxs)("section",{className:"profile",children:[Object(n.jsx)("button",{type:"button",className:"profile__edit-avatar",onClick:a,children:Object(n.jsx)("img",{className:"profile__avatar",src:y,alt:"\u0424\u043e\u0442\u043e\u043f\u043e\u0440\u0442\u0440\u0435\u0442 ".concat(b)})}),Object(n.jsxs)("div",{className:"profile__info",children:[Object(n.jsxs)("div",{className:"profile__info-wrapper",children:[Object(n.jsx)("h1",{className:"profile__name",children:b}),Object(n.jsx)("button",{type:"button",className:"profile__edit-button",onClick:t})]}),Object(n.jsx)("p",{className:"profile__about",children:v})]}),Object(n.jsx)("button",{type:"button",className:"profile__add-button",onClick:s})]}),Object(n.jsx)("section",{className:"elements","aria-label":"\u041c\u0435\u0441\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044be \u0441\u0442\u043e\u0438\u0442 \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u044c",children:L.map((function(e){return Object(n.jsx)(j,{card:e,currentUser:p,onCardClick:o},e._id)}))})]})};var b=function(){return Object(n.jsx)("footer",{className:"footer",children:Object(n.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Mesto Russia"})})};var f=function(e){var t=e.children,a=e.title,s=e.name,c=e.isOpen,o=e.onClose,i="";return c&&(i=" popup_opened"),Object(n.jsx)("div",{className:"popup popup_type_".concat(s)+i,children:Object(n.jsxs)("div",{className:"popup__content",children:[Object(n.jsx)("h3",{className:"popup__title",children:"".concat(a)}),Object(n.jsxs)("form",{className:"popup__form popup__form_type_".concat(s),name:"".concat(s),children:[t,Object(n.jsx)("button",{type:"submit",className:"popup__button-save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(n.jsx)("button",{type:"button",className:"popup__button-close",onClick:o})]})})};var O=function(e){var t=e.card,a=e.onClose,s="";return t&&t.link&&(s=" popup_opened"),Object(n.jsx)("div",{className:"popup popup_type_image"+s,children:Object(n.jsxs)("div",{className:"popup__content popup__content_type_image",children:[Object(n.jsxs)("figure",{className:"popup__figure",children:[Object(n.jsx)("img",{className:"popup__image",alt:t.name,src:t.link}),Object(n.jsx)("figcaption",{className:"popup__caption",children:t.name})]}),Object(n.jsx)("button",{type:"button",className:"popup__button-close",onClick:a})]})})};var x=function(){var e=c.a.useState(!1),t=Object(r.a)(e,2),a=t[0],s=t[1],o=c.a.useState(!1),i=Object(r.a)(o,2),l=i[0],u=i[1],d=c.a.useState(!1),h=Object(r.a)(d,2),_=h[0],j=h[1],x=c.a.useState({}),v=Object(r.a)(x,2),N=v[0],g=v[1];function k(){s(!1),u(!1),j(!1),g(!1)}return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"page",children:[Object(n.jsx)(p,{}),Object(n.jsx)(m,{onEditProfile:function(){s(!0)},onEditAvatar:function(){u(!0)},onAddPlace:function(){j(!0)},onCardClick:function(e){g(e)}}),Object(n.jsx)(b,{})]}),Object(n.jsxs)(f,{isOpen:a,title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit",onClose:k,children:[Object(n.jsx)("input",{className:"popup__input popup__input_type_name",type:"text",name:"name",id:"profile-name",placeholder:"\u0418\u043c\u044f",minLength:"2",maxLength:"40",required:!0}),Object(n.jsx)("span",{className:"popup__input-error",id:"profile-name-error"}),Object(n.jsx)("input",{className:"popup__input popup__input_type_about",type:"text",name:"info",id:"profile-info",placeholder:"\u041e \u0441\u0435\u0431\u0435",minLength:"2",maxLength:"200",required:!0}),Object(n.jsx)("span",{className:"popup__input-error",id:"profile-info-error"})]}),Object(n.jsxs)(f,{isOpen:l,title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"edit-avatar",onClose:k,children:[Object(n.jsx)("input",{className:"popup__input popup__input_type_link",type:"URL",name:"link",id:"avatar-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(n.jsx)("span",{className:"popup__input-error",id:"avatar-link-error"})]}),Object(n.jsxs)(f,{isOpen:_,title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add-card",onClose:k,children:[Object(n.jsx)("input",{className:"popup__input popup__input_type_title",type:"text",name:"title",id:"card-title",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:"2",maxLength:"30",required:!0}),Object(n.jsx)("span",{className:"popup__input-error",id:"card-title-error"}),Object(n.jsx)("input",{className:"popup__input popup__input_type_link",type:"URL",name:"link",id:"card-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(n.jsx)("span",{className:"popup__input-error",id:"card-link-error"})]}),Object(n.jsx)(O,{card:N,onClose:k}),Object(n.jsx)(f,{})]})},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),c(e),o(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),v()}},[[13,1,2]]]);
//# sourceMappingURL=main.054c4e3b.chunk.js.map