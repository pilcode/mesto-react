{"version":3,"sources":["images/logo.svg","components/Header.js","images/loading-foto.png","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","_id","useContext","cardDeleteButtonClassName","owner","type","onClick","isLiked","likes","some","i","cardLikeButtonClassName","name","link","length","Main","onEditProfile","onEditAvatar","onAddPlace","cards","about","avatar","defaultAvatar","aria-label","map","currentUser","Footer","PopupWithForm","children","title","isOpen","onClose","onSubmit","openClass","e","preventDefault","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","value","id","placeholder","minLength","maxLength","onChange","target","required","EditAvatarPopup","inputLink","useRef","current","ref","AddPlacePopup","setLink","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","statusText","fetch","then","_handleResponse","catch","error","console","log","info","method","body","JSON","stringify","idCard","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","all","getUserInfo","getInitialCards","userInfo","initialCards","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","element","updateUser","updateAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8dd6976c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport logoPath from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"logo \" src={logoPath} alt=\"Логотип проекта Место\" />\n    </header>\n  );\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/loading-foto.aaefe4f1.png\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n  const {_id} = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === _id;\n  const cardDeleteButtonClassName = isOwn \n    ?  (<button type=\"button\" className=\"element__button-delete\" onClick={handleDeleteClick} />)\n    : null;\n\n  const isLiked = card.likes.some(i => i._id === _id);\n  const cardLikeButtonClassName = `element__button-like ${isLiked ? 'element__button-like_theme_dark' : ''}`;\n\n  function handleClick() {\n    onCardClick(card);\n  };\n\n  function handleLikeClick() {\n    onCardLike(card);\n  };\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  };\n\n  return (\n    <article className=\"element\">\n      {cardDeleteButtonClassName}\n      <div className=\"element__wrapper\">\n        <img className=\"element__image\" alt={card.name} src={card.link} onClick={handleClick} />\n      </div>\n      <div className=\"element__panel\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__like-wrapper\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\n          <p className=\"element__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport defaultAvatar from '../images/loading-foto.png';\n// import api from '../utils/api.js';\nimport Card from './Card.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction Main({onEditProfile, onEditAvatar, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\n  const {about, avatar, name, _id} = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button type=\"button\" className=\"profile__edit-avatar\" onClick={onEditAvatar}>\n          <img className=\"profile__avatar\" src={avatar || defaultAvatar} alt={`Фотопортрет ${name}`} />\n        </button>\n\n        <div className=\"profile__info\">\n          <div className=\"profile__info-wrapper\">\n            <h1 className=\"profile__name\">{name}</h1>\n            <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile} />\n          </div>\n          <p className=\"profile__about\">{about}</p>\n        </div>\n\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace} />\n      </section>\n\n      <section className=\"elements\" aria-label=\"Места, которыe стоит посетить\">\n        {cards.map((card) => (\n          <Card\n            card={card}\n            key={card._id}\n            currentUser={_id}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm({children, title, name, isOpen, onClose, onSubmit}) {\n  let openClass = '';\n  if (isOpen) openClass = ' popup_opened';\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmit();\n  };\n  \n  return (\n    <div className={`popup popup_type_${name}` + openClass}>\n      <div className=\"popup__content\">\n        <h3 className=\"popup__title\">{`${title}`}</h3>\n        <form className={`popup__form popup__form_type_${name}`} name={`${name}`} onSubmit={handleSubmit}>\n          {children}\n          <button type=\"submit\" className=\"popup__button-save\">Сохранить</button>\n        </form>\n        <button type=\"button\" className=\"popup__button-close\" onClick={onClose} />\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\n\nfunction ImagePopup({card, onClose}) {\n  let openClass = '';\n  if (card && card.link) openClass = ' popup_opened';\n    \n  return (\n    <div className={`popup popup_type_image` + openClass}>\n      <div className=\"popup__content popup__content_type_image\">\n        <figure className=\"popup__figure\">\n          <img className=\"popup__image\" alt={card.name} src={card.link} />\n          <figcaption className=\"popup__caption\">{card.name}</figcaption>\n        </figure>\n        <button type=\"button\" className=\"popup__button-close\" onClick={onClose} />\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup({isOpen, onClose, onSubmit}) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleAboutChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit() {\n    onSubmit(name, description);\n  }\n\n  return (\n    <PopupWithForm \n      isOpen={isOpen}\n      title=\"Редактировать профиль\"\n      name=\"edit\"\n      onClose ={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input popup__input_type_name\"\n        type=\"text\"\n        name=\"name\"\n        value={name || ''}\n        id=\"profile-name\"\n        placeholder=\"Имя\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        onChange={handleNameChange}\n        required\n      />\n\n      <span className=\"popup__input-error\" id=\"profile-name-error\" />\n      <input\n        className=\"popup__input popup__input_type_about\" \n        type=\"text\"\n        name=\"info\"\n        value={description || ''}\n        id=\"profile-info\"\n        placeholder=\"О себе\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        onChange={handleAboutChange}\n        required\n      />\n      <span className=\"popup__input-error\" id=\"profile-info-error\" />\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onSubmit}) {\n  const inputLink = React.useRef(null);\n\n  function handleSubmit() {  \n    onSubmit({\n      avatar: inputLink.current.value,\n    });\n  } \n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      title=\"Обновить аватар\"\n      name=\"edit-avatar\"\n      onClose ={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input popup__input_type_link\"\n        type=\"URL\"\n        name=\"link\"\n        id=\"avatar-link\"\n        placeholder=\"Ссылка на картинку\"\n        ref={inputLink}\n        required\n      />\n      <span className=\"popup__input-error\" id=\"avatar-link-error\" />\n  </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onClose, onSubmit}) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setName('');\n      setLink('');\n    }\n  }, [isOpen])\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handlelinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit() {\n    onSubmit(name, link);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      title=\"Новое место\"\n      name=\"add-card\"\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input popup__input_type_title\"\n        type=\"text\"\n        name=\"title\"\n        id=\"card-title\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={name || ''}\n        onChange={handleNameChange}\n        required\n      />\n      <span className=\"popup__input-error\" id=\"card-title-error\" />\n      <input\n        className=\"popup__input popup__input_type_link\"\n        type=\"URL\"\n        name=\"link\"\n        id=\"card-link\"\n        placeholder=\"Ссылка на картинку\"\n        value={link || ''}\n        onChange={handlelinkChange}\n        required\n      />\n      <span className=\"popup__input-error\" id=\"card-link-error\" />\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","class Api {\n  constructor({baseUrl, headers}) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json()\n    } else {\n      return Promise.reject(res.statusText)\n    }\n  }\n\n  //функция: получить данные пользователя\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    })\n      .then(this._handleResponse)\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  //функция: редакировать провиль\n  updateUser({name, info}) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: info\n      })\n    })\n      .then(this._handleResponse)\n      .catch((error) => {\n        console.log(error)\n      }) \n  }\n\n  //фуекция: редактировать аватар провиля\n  updateAvatar({link}) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({avatar: link})\n    })\n      .then(this._handleResponse)\n      .catch((error) => {\n          console.log(error)\n      }) \n  }\n\n  //функция: получить карточки с сервера\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    })\n      .then(this._handleResponse)\n      .catch((error) => {\n          console.log(error)\n      })\n  }\n\n  //функция: добавить новую карточку\n  addCard({name, link}) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }) \n      .then(this._handleResponse)\n      .catch((error) => {\n        console.log(error)\n      }) \n  }\n\n  //функция: удалить карточку\n  deleteCard(idCard) {\n    return fetch(`${this._baseUrl}/cards/${idCard}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(this._handleResponse)\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  changeLikeCardStatus(idCard, value) {\n    return fetch(`${this._baseUrl}/cards/likes/${idCard}`, {\n      method: value ? 'PUT' : 'DELETE',\n      headers: this._headers\n    })\n      .then(this._handleResponse)\n      .catch((error) => {\n          console.log(error)\n      })\n  }\n};\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\n  headers: {\n    authorization: '931abef9-5903-4d83-895a-778706a224b0',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport api from '../utils/api.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()]) \n      .then(([userInfo, initialCards]) => {\n        setCurrentUser(userInfo);\n        setCards(initialCards);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((element) => {\n          return element !== card;\n        });\n        setCards(newCards);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  function handleProfileSubmit(name, description) {\n    api.updateUser({name, info: description})\n      .then(() => {\n        setCurrentUser({...currentUser, name, about: description});\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function handleAvatarSubmit({avatar}) {\n    api.updateAvatar({link: avatar})\n      .then(() => {\n        setCurrentUser({...currentUser, avatar});\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function handleAddPlaceSubmit(name, link) {\n    api.addCard({name, link})\n      .then((newCard) => {\n        setCards([ newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(false);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main \n          onEditProfile={handleEditProfileClick}\n          onEditAvatar={handleEditAvatarClick}\n          onAddPlace={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <Footer />\n      </div>\n\n      {/* редактировать профиль */}\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onSubmit={handleProfileSubmit}\n      />\n\n      {/* редактировать аватар */}\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onSubmit={handleAvatarSubmit}\n      />\n\n      {/* добавить карточку */}\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onSubmit={handleAddPlaceSubmit}\n      />\n\n      {/* попап картинки */}\n      <ImagePopup \n        card={selectedCard}\n        onClose ={closeAllPopups}\n      />\n\n      {/* удалить карточку(доделать) */}\n      <PopupWithForm />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}